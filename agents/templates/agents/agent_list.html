{% extends 'base.html' %}

{% block title %}
    Agents
{% endblock %}

{% block content %}
    <section class="text-gray-600 body-font">
        <div class="container px-5 py-12 mx-auto flex flex-wrap">
            <div class="w-full mb-6 py-6 flex justify-between items-center border-b border-gray-200">
                <div>
                    <h1 class="text-4xl text-gray-800">Agents</h1>
                </div>
                {% if request.user.is_organiser %}
                    <div>
                        <a class="text-gray-500 hover:text-blue-500" href="{% url 'agents:agent-create' %}">Create a new agent</a>
                    </div>
                {% endif %}
            </div>
            <div class="py-1 align-middle inline-block min-w-full">
                <div class="shadow overflow-hidden border-b border-gray-200 rounded-lg">
                    <table class="table-auto w-full text-left whitespace-no-wrap">
                        <thead>
                        <tr>
                            <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Username</th>
                            <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Email</th>
                            <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100">Organiser</th>
                            <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100"></th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for agent in agents.all %}
                            <tr>
                                <td class="px-4 py-3">{{ agent.user.username }}</td>
                                <td class="px-4 py-3">{{ agent.user.email }}</td>
                                <td class="px-4 py-3">{{ agent.organisation }}</td>
                                <td class="px-4 py-3"><a href="{% url 'agents:agent-detail' agent.pk %}" class="text-blue-500 hover:text-blue-600">View</a></td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>
{% endblock %}
